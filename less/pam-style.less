@import '../../bootbox/font-awesome-less/font-awesome.less';
@import (reference) '../../bootbox/bootstrap-less/bootstrap.less';
//@import '../../bootbox/bootstrap-less/theme.less';
@import '../../bootbox/less/bootbox.less';


//@body-bg: #f4f4f4;
@base-font-size: 62.5%;
@normal-color: #999;
@text-color: fade(#000, 87%);


@brand-primary: @md-blue-700;

//导航
@nav-font-size-base: 		18px;
@nav-height: 				50px;	
@nav-link-padding-h:   		0px;
@nav-link-padding-v:   		15px;

*{
	.box-sizing(border-box);
}


html,body{
	width: 100%;
	height: 100%;
	font-family: @font-family-sans-serif;
}

// a,a:link,a:visited{
// 	color: @brand-primary;
// }

// a:hover,a:active{
// 	color: darken(@brand-primary, 10%);
// }

.page{
	position: absolute;
	left: 0;
	right: 0;
	top: 0;
	bottom: 0;
	.transition(all 600ms cubic-bezier(0.77, 0, 0.175, 1));
	

	&.ng-leave{
		z-index: 2
	}
	&.ng-enter{
		z-index: 1;
		
	}
}
.home{
	
	&.ng-leave{
		.scale(1);
		&.ng-leave-active{
			.scale(0.8);
			opacity: 0;
		}
	}
	&.ng-enter{
		opacity: 0;
		.scale(0.8);
		&.ng-enter-active{
			.scale(1);
			opacity: 1;
		}
	}
}
.album{
	
	&.ng-leave{
		.scale(1);
		&.ng-leave-active{
			.scale(0.8);
			opacity: 0;
		}
	}
	&.ng-enter{
		opacity: 0;
		.scale(0.8);
		&.ng-enter-active{
			.scale(1);
			opacity: 1;
		}
		
	}
}
.wrapper{
	// .flexbox();
	// .flex-direction(column);
	width: 100%;
	height: 100%;
	padding-top: 50px;
}

.header{
	height: 50px;
	position: fixed;
	top:0;
	left: 0;
	right: 0;
	z-index: 2;
	.transition(margin-left 0.2s ease-out 0.1s);
	//.order(1);

	// .navbar{
	// 	margin-bottom: 0; z-index: 99;
	// }
	
	// .navbar-brand{
	// 	font-family:Impact;
	// }
	
	.side-nav-toggle{
		.show();
	}
	
	

	@media (min-width: 1200px){
		margin-left: 240px;

		.side-nav-toggle{
			.hide();
		}
	}
}

.top-nav{
	.box-shadow(0 1px 5px rgba(0, 0, 0, 0.5));
	position: relative;
	z-index: 1;
	.clearfix();



	// .has-left-side &{
	// 	margin-left: 240px;
	// }

	a{
		text-decoration: none;
		.transition(all 0.2s ease-out 0.1s);
	}


	.brand-logo{
		position: absolute;
		z-index: 1;
		left: 50%;
		top:0;
		transform: translateX(-50%);
		height: 50px;
		font-family:Impact;
		overflow: hidden;
	}

	.nav-user{
		float: right;
		display: inline;
		background: @md-pink-400;
		margin-top: 12px;
		.border-radius(20px);
		overflow: hidden;
		a{
			float: left;
			line-height: 35px;

			&:hover,&:visited,&:focus{
				background: @md-pink-700;
			}

			&:first-child{
				
				padding-left: 20px;
			}

			&:last-child{
			
				padding-right: 20px;
			}
		}
	}

	.menu{
		>li{
			&.active{
				a{background: darken(@brand-primary, 10%);}
			}
		}
	}

	
}

.content-box-item-animation(@n, @i: 1) when (@i =< @n) {
			
  .content-box-item{
		&:nth-child(@{i}){
			.animation-delay( @i * 0.13s);
		}
	}
  .content-box-item-animation(@n, (@i + 1));
}

.main{
	// .flex(1);
 //  	.order(2);

	// .flexbox();
	// .flex-direction(row);
	//height: 100%;

	//background: #000;
	.transition(margin-left 0.2s ease-out 0.1s);

	// .has-left-side &{

	// 	margin-left: 240px;
	// }
	
	@media (min-width: 1200px){
		margin-left: 240px;
	}
}




.side-nav{
	width: 240px;
	//.flex(1);
  	//.order(1);
	background: @white-color;
	height: 100%;
	
	position: fixed;
	z-index:4;
	bottom: 0;
	top:0;
	left: 0;
	
	color:@text-color;
	display:block;
	visibility: hidden;
	
	.transform-style();
	.transition(transform 0.2s cubic-bezier(0.4, 0, 0.2, 1) 0.1s,visibility 0.2s cubic-bezier(0.4, 0, 0.2, 1) 0.1s);
	.translate(-240px,0);
	

	&.show{
		visibility:visible;
		.translate(0,0);
		box-shadow:0 0 10px rgba(0, 0, 0, 0.5);
	}
	
	@media (min-width: 1200px){
		visibility:visible;
		.translate(0,0);
		box-shadow:0 0 20px rgba(0, 0, 0, 0.5);
	}

	
}

.side-nav-header{
	width: 240px;
	height: (240*9)/16px;
	background: @white-color;
	padding: 16px;
	border-bottom: 1px solid @solid-color;
	

	.avatar{
		.size(64px);

	}
	.avatar-img{
		.brimming();
		.border-radius(50%);
		.background-size(cover);
		background-repeat: no-repeat;
		background-position: center;
	}

}
.side-menu{
	
	>li{
		a{
			display: block;
			padding: 10px;
			text-decoration: none;
			color: @md-blue-500;

			&:hover,&:focus{
				background: @md-grey-100;
			}

		}

		&.active{
			a{
				color: @white-color;
				background: @md-blue-500;
			}
		}
	}
	

	
	.divider{
		height: 1px;
		background: @solid-color;
		margin: 8px 0;
		overflow: hidden;
	}

}

.side-menu-header{
	padding: 10px;
	font-size: 12px;
}



.right-nav{
	width: 240px;
	//.flex(1);
  	//.order(1);
	background: @white-color;
	height: 100%;
	
	position: fixed;
	z-index:1;
	bottom: 0;
	top:50px;
	right: 0;
	
	color:@text-color;
	display:block;
	visibility: hidden;

	.transform-style();
	.transition(transform 0.2s cubic-bezier(0.4, 0, 0.2, 1) 0.1s,visibility 0.2s cubic-bezier(0.4, 0, 0.2, 1) 0.1s);
	.translate(100%,0);
	

	&.show{
		visibility:visible;
		.translate(0,0);
		box-shadow:0 0 10px rgba(0, 0, 0, 0.5);
	}
	
	// @media (min-width: 1200px){
	// 	top:50px;
	// 	visibility:visible;
	// 	.translate(0,0);
	// 	box-shadow:0 0 10px rgba(0, 0, 0, 0.8);
	// }
}	

.ui-mask{
	background-color:rgba(0,0,0,0.5);
	.brimming();
	position:fixed;
	left:0;
	top:0;
	z-index:3;
	opacity:0.1;
	visibility:hidden;
	.transition(visibility 0s linear 0.4s,opacity 0.4s cubic-bezier(0.4, 0, 0.2, 1));
	transform:translateZ(0);

	&.show{
		opacity:1;
		visibility:visible;
		transition-delay:0s;
	}
}

.content-box{

	//background: @gary-color;
	width: 100%;
	
	&.has-menu{
		padding-left: 215px;
	}

	//box显示方式
	&.display-box{
		.flex(1);
  		.order(2);
  		padding:65px 15px 15px;

		.content-box-list{
			.flexbox();
			.flex(1);
			.flex-direction(row);
		    .flex-wrap(wrap);
		    .justify-content(space-between);
		    .align-items(flex-start);
	    }

	    .content-box-item{
			.border-radius(3px);
			margin-bottom: 15px;
			background: @white-color;
			
			img{
				
				margin: auto;
				display: block;
				height: 18rem;
				max-width: 100%;
				
			}
			
		}

		@media (min-width: 240px) and (max-width: 480px) {
			.flex-direction(column);
			.content-box-item{
				img{width: 100%;height: auto;}
			}

		}
	}

	//瀑布流显示方式
	&.display-waterfall{
		width: 100%;
		padding:65px 15px 15px;
		.content-box-list{
		
			width: 100%;
			.content-columns(4,15px);

			@media (min-width: 240px) and (max-width: 480px) {
				.content-columns(1,0);
			}
			@media (min-width: 480px) and (max-width: 640px) {
				.content-columns(2,15px);
			}
		}
		
		.content-box-item{
			.border-radius(3px);
			margin-bottom: 15px;
			img{.img-responsive();width: 100%; margin: auto;}
		}
		
	}

	&.display-normal{
		//.flex(1);
  		//.order(2);
  		//padding-top: 50px;
  		

		.content-box-item{
			position: relative;
			z-index: 1;
			float: left;
			//.size(20%);
			width: calc(~'(100vw - 17px) / 5 ');
			height:calc(~'(100vw - 17px)  / 5 ') ;
			.transition(width 0s ease-out 0.1s,height 0.2s ease-out 0.1s);
			//img{width: 100%;}



		}

		@media (min-width: 240px) and (max-width: 480px) {
			.content-box-item{
				width: calc(~'100vw / 2');
				height:calc(~'100vw / 2');
				
			}
		}

		@media (min-width: 481px) and (max-width: 768px) {
			.content-box-item{
				width: calc(~'100vw / 3');
				height:calc(~'100vw / 3');
		
			}
		}

		@media (min-width: 769px) and (max-width: 1024px) {
			.content-box-item{
				width: calc(~'(100vw - 17px) / 4');
				height:calc(~'(100vw - 17px) / 4');
	
			}
		}

		@media (min-width: 1200px){
			.content-box-item{
				width: calc(~'(100vw - 17px - 240px) / 5 ');
				height:calc(~'(100vw - 17px - 240px) / 5 ') ;
			}
		}
	}

	
	&.scale-2x3 {
		.content-box-item{
			height:calc(~'((100vw - 17px)  / 5 ) / 2 + ((100vw - 17px)  / 5 )');
		}

		@media (min-width: 240px) and (max-width: 480px) {
			.content-box-item{
				height:calc(~'(100vw / 2 ) / 2 + (100vw / 2 )');
			}
		}

		@media (min-width: 481px) and (max-width: 768px) {
			.content-box-item{
				height:calc(~'(100vw / 3) / 2 + (100vw / 3 )');
			}
		}

		@media (min-width: 769px) and (max-width: 1024px) {
			.content-box-item{
				height:calc(~'((100vw - 17px)  / 4 ) / 2 + ((100vw - 17px)  / 4 )');
	
			}
		}
				
	}


	&.scale-4x3 {
		.content-box-item{
			height:calc(~'((100vw - 17px) / 5 ) - ((100vw - 17px)  / 5 ) / 4');
		}

		@media (min-width: 240px) and (max-width: 480px) {
			.content-box-item{
				height:calc(~'(100vw / 2 ) - (100vw / 2 ) / 4');
			}
		}

		@media (min-width: 481px) and (max-width: 768px) {
			.content-box-item{
				height:calc(~'(100vw  / 3) - (100vw  / 3 ) / 4');
			}
		}

		@media (min-width: 769px) and (max-width: 1024px) {
			.content-box-item{
				height:calc(~'((100vw - 17px)  / 4 ) - ((100vw - 17px)  / 4 ) / 4');
	
			}
		}
				
	}

	&.scale-16x9 {
		.content-box-item{
			height:calc(~'((100vw - 17px) / 5 ) - (((100vw - 17px)  / 5 ) * 7) / 16');
		}

		@media (min-width: 240px) and (max-width: 480px) {
			.content-box-item{
				height:calc(~'(100vw / 2 ) - ((100vw / 2 ) * 7) / 16');
			}
		}

		@media (min-width: 481px) and (max-width: 768px) {
			.content-box-item{
				height:calc(~'(100vw / 3) - ((100vw / 3 ) * 7) / 16');
			}
		}

		@media (min-width: 769px) and (max-width: 1024px) {
			.content-box-item{
				height:calc(~'((100vw - 17px)  / 4 ) - (((100vw - 17px)  / 4 ) * 7) / 16');
	
			}
		}
				
	}



}

.content-box-list{
	
	

	&.effect-1{
		.content-box-item{
			opacity: 0;
			.animation(fadeIn 0.65s ease-in-out forwards);
	
			// &:nth-child(odd){
			// 		.animation-duration(0.85s);
			// }
		}
		.content-box-item-animation(20);
	}

	&.effect-2{
		.content-box-item{
			opacity: 0;
			.animation(fadeInDown 0.65s ease-in-out forwards);
			// &:nth-child(odd){
			// 		.animation-duration(0.448279s);
			// }
		}
		.content-box-item-animation(20);
	}

	&.effect-3{
		.content-box-item{
			opacity: 0;
			.animation(zoomIn 0.65s ease-in-out forwards);
			// &:nth-child(odd){
			// 		.animation-duration(0.448279s);
			// }
		}
		.content-box-item-animation(20);
	}



	&.effect-4{
		.content-box-item{
			opacity: 0;
			.animation(fadeInUp 0.65s ease forwards);
			
			
		}

		.content-box-item-animation(20);



	}

	&.effect-5{
		.perspective(1300px);
		.content-box-item{
			opacity: 0;
			.transform-style();
			-webkit-transform: translateZ(400px) translateY(300px) rotateX(-90deg);
			-moz-transform: translateZ(400px) translateY(300px) rotateX(-90deg);
			transform: translateZ(400px) translateY(300px) rotateX(-90deg);
			.animation(fallPerspective 0.8s ease-in-out forwards);

			// &:nth-child(odd){
			// 	.animation-duration(0.448279s);
			// }
		}

		.content-box-item-animation(20);

	}

	&.effect-6{
		.perspective(1300px);
		.content-box-item{
			opacity: 0;
			.transform-style();
			.transform-origin(0 0);
			.rotateX(-80deg);
			.animation(flipTop 0.8s ease-in-out forwards);

			// &:nth-child(odd){
			// 	.animation-duration(0.448279s);
			// }
		}

		.content-box-item-animation(20);
	}

	&.effect-7{
		.perspective(1300px);
		.content-box-item{
			opacity: 0;
			.transform-style();
			.rotateY(-180deg);
			.animation(helix 0.8s ease-in-out forwards);

			&:nth-child(odd){
				.animation-duration(0.448279s);
			}
		}

		.content-box-item-animation(20);
	}



}

.content-box-item{
	background: @white-color;
	overflow: hidden;
	.box-shadow(0 0 20px rgba(0, 0, 0, 0.2));
	
	//white-space: nowrap;

	img{display: block;  //.border-radius(3px);
	}
	
	a{
		display: block;	
		.brimming();
		//.size(384px,216px);
		overflow: hidden;
		text-decoration: none;
		position: relative;
		z-index: 1;
		

		&:hover{
			.item-content{
				bottom:0;
			}
			.item-mask{
				.background-rgba(0,0,0,0.3);
			}
			.item-stuts{
				top: 15px;
			}
		}
	}

	.item-content{
		padding: 10px 15px;
		position:absolute;
		z-index: 1;
		
		//top:100%;
		left: 0;
		right: 0;
		bottom:-100%;
		//bottom:0;
		//background: @white-color;
		//.background-rgba(255,255,255,0.9);
		color: @white-color;

		text-shadow:1px 1px 1px rgba(0, 0, 0, 0.5);
		.transition(all 0.2s ease-out 0.1s);

		// @media (min-width: 240px) and (max-width: 640px) {
		// 	position:static;
		// 	padding: 10px;
		// }
	}
	.item-title{
		margin: 0;
		//color: @text-color;
		//font-weight: bold;
		.font-size-rems(18);
		//font-size: 1.8vw;
		.ws_hide();
		.transition(all 0.2s ease-out 0.1s);
	}
	.item-desc{
		margin: 5px 0 0;
		//color: @normal-color;
		color: fade(@white-color, 87%);
		display: block;
		.ws_hide();
		//.ws_break();
		.font-size-rems(14);
		//font-size: 1vw;
	}

	.item-mask{
		.flexbox();	
		left: 0;
		right: 0;
		top:0;
		bottom: 0;
		position:absolute;
		z-index: 1;
		text-shadow:0 0 10px rgba(0, 0, 0, 0.5);
		.transition(all 0.2s ease-out 0.1s);

		.fa{.font-size-rems(45);  color: @white-color; margin: auto;}
	}

	.item-stuts{
		position: absolute;
		z-index: 1;
		top: -100%;
		right: 15px;
		color: fade(@white-color, 54%);
		text-shadow:0 0 10px rgba(0, 0, 0, 0.5);
		.border-radius(3px);
		.font-size-rems(12);
		.transition(all 0.2s ease-out 0.1s);
	}

	.item-img{
		.brimming();
		background-repeat: no-repeat;
		background-position: center;
		

		.img-position-cover &{
			.background-size(cover);
		}

		.img-position-contain &{
			.background-size(contain);
		}

	}

}


//

.fancybox-type-iframe{
	.fancybox-inner{
		overflow: hidden !important;
	}
	 .fancybox-nav {
    	width: 60px;       
		span {
		    visibility: visible;
		    opacity: 0.5;
		}
	

		&:hover span {
		    opacity: 1;
		}
	}

	.fancybox-next {
	    right: -60px;
	}

	.fancybox-prev {
	    left: -60px;
	}
}

//
@-webkit-keyframes fallPerspective {
  100% { -webkit-transform: translateZ(0px) translateY(0px) rotateX(0deg); opacity: 1; }
}

@-moz-keyframes fallPerspective {
  100% { -moz-transform: translateZ(0px) translateY(0px) rotateX(0deg); opacity: 1; }
}

@keyframes fallPerspective {
  100% { transform: translateZ(0px) translateY(0px) rotateX(0deg); opacity: 1; }
}

//
@-webkit-keyframes flipTop {
  100% { -webkit-transform: rotateX(0deg); opacity: 1; }
}

@-moz-keyframes flipTop {
  100% { -moz-transform: rotateX(0deg); opacity: 1; }
}

@keyframes flipTop {
  100% { transform: rotateX(0deg); opacity: 1; }
}

//
@-webkit-keyframes helix {
  100% { -webkit-transform: rotateY(0deg); opacity: 1; }
}

@-moz-keyframes helix {
  100% { -moz-transform: rotateY(0deg); opacity: 1; }
}

@keyframes helix {
  100% { transform: rotateY(0deg); opacity: 1; }
}

@import (less) 'animate.css';